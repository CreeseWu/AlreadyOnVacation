"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[3759,401],{68932:function(e,t,n){n.d(t,{M:function(){return l},V:function(){return o}});var i=n(49486),a=n(15758),l=function(e,t){i.Z.dispatch(a.e.SET_BREADCRUMB_ACTION,{title:e,pageBreadcrumbPath:t})},o=function(e){i.Z.dispatch(a.e.SET_BREADCRUMB_ACTION,{title:e})}},5080:function(e,t,n){n.d(t,{$Q:function(){return c},BK:function(){return d},Df:function(){return x},F9:function(){return v},Fh:function(){return s},Gv:function(){return w},K1:function(){return _},Lj:function(){return u},NK:function(){return o},Yn:function(){return A},_T:function(){return b},az:function(){return y},jH:function(){return r},o$:function(){return f},o4:function(){return h},pD:function(){return g},vc:function(){return l},vj:function(){return k},xV:function(){return m},zK:function(){return p}});var i=n(66252),a=n(49486),l=(0,i.Fl)((function(){return a.Z.getters.layoutConfig()})),o=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("sidebar.display")})),r=(0,i.Fl)((function(){return"fluid"===a.Z.getters.layoutConfig("footer.width")})),s=(0,i.Fl)((function(){return"fluid"===a.Z.getters.layoutConfig("header.width")})),u=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("header.left")})),d=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("header.fixed.desktop")})),c=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("header.fixed.tabletAndMobile")})),f=(0,i.Fl)((function(){return!0===a.Z.getters.layoutConfig("aside.display")})),m=((0,i.Fl)((function(){return"fluid"===a.Z.getters.layoutConfig("toolbar.width")})),(0,i.Fl)((function(){return a.Z.getters.layoutConfig("toolbar.display")}))),p=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("loader.display")})),b=(0,i.Fl)((function(){return"fluid"===a.Z.getters.layoutConfig("content.width")})),g=(0,i.Fl)((function(){return""+a.Z.getters.layoutConfig("loader.logo")})),_=(0,i.Fl)((function(){return!!a.Z.getters.layoutConfig("aside.display")})),v=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("aside.theme")})),y=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("toolbar.display")})),h=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("aside.menuIcon")})),x=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("main.logo.light")})),k=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("main.logo.dark")})),A=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("header.menuIcon")})),w=(0,i.Fl)((function(){return a.Z.getters.layoutConfig("illustrations.set")}))},65962:function(e,t,n){var i=n(31528),a=n.n(i),l=n(15758),o=n(49486),r=n(5080),s=function(){function e(){}return e.init=function(){e.initLayout(),e.initHeader(),e.initToolbar(),e.initAside(),e.initSidebar(),e.initFooter()},e.initLayout=function(){o.Z.dispatch(l.e.ADD_BODY_ATTRIBUTE,{qulifiedName:"id",value:"kt_body"}),a().get(r.vc.value,"loader.display")&&(o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"page-loading-enabled"),o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"page-loading"))},e.initHeader=function(){a().get(r.vc.value,"header.fixed.desktop")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"header-fixed"),a().get(r.vc.value,"header.fixed.tabletAndMobile")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"header-tablet-and-mobile-fixed")},e.initToolbar=function(){a().get(r.vc.value,"toolbar.display")&&(o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"toolbar-enabled"),a().get(r.vc.value,"toolbar.fixed")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"toolbar-fixed"),o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"toolbar-tablet-and-mobile-fixed"))},e.initAside=function(){a().get(r.vc.value,"aside.display")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"aside-enabled")},e.initSidebar=function(){a().get(r.vc.value,"sidebar.display")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"sidebar-enabled")},e.initFooter=function(){"fixed"===a().get(r.vc.value,"footer.width")&&o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"footer-fixed")},e.enableSidebar=function(){r.vc.value.sidebar.display=!0,o.Z.dispatch(l.e.ADD_BODY_CLASSNAME,"sidebar-enabled")},e.disableSidebar=function(){r.vc.value.sidebar.display=!1,o.Z.dispatch(l.e.REMOVE_BODY_CLASSNAME,"sidebar-enabled")},e}();t["Z"]=s},13759:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var i=n(66252);function a(e,t,n,a,l,o){var r=(0,i.up)("Documents");return(0,i.wg)(),(0,i.j4)(r)}var l=n(65962),o=n(50811),r=n(68932),s=(0,i.aZ)({name:"main-dashboard",components:{Documents:o["default"]},setup:function(){(0,i.bv)((function(){(0,r.V)("我的文件"),localStorage.getItem("config")||l.Z.enableSidebar()})),(0,i.Ah)((function(){localStorage.getItem("config")||l.Z.disableSidebar()}))}}),u=n(83744);const d=(0,u.Z)(s,[["render",a]]);var c=d},50811:function(e,t,n){n.r(t),n.d(t,{default:function(){return Se}});var i=n(66252),a={class:"d-flex flex-wrap flex-stack mb-6"},l=(0,i._)("h3",{class:"fw-semobold my-2 text-gray-400"}," 共100个文件 ",-1),o={class:"d-flex my-2"},r={class:"row g-6 g-xl-9 mb-6 mb-xl-9"},s={class:"row g-6 g-xl-9 mb-6 mb-xl-9"},u=(0,i._)("div",{class:"col d-none d-xl-block"},null,-1),d=(0,i._)("div",{class:"col d-none d-xl-block"},null,-1),c=(0,i._)("div",{class:"col d-none d-xl-block"},null,-1);function f(e,t,n,f,m,p){var b=(0,i.up)("KTFile");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[l,(0,i._)("div",o,[(0,i._)("input",{type:"file",id:"btn_file",style:{display:"none"},ref:"hiddenInput",onChange:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.uploadFile&&e.uploadFile.apply(e,t)})},null,544),(0,i._)("a",{href:"#",class:"btn btn-primary btn-sm","data-bs-toggle":"tooltip",title:"Coming soon",onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.selectFile&&e.selectFile.apply(e,t)})}," 上传文件 ")])]),(0,i._)("div",r,[(0,i.Wm)(b,{"file-title":"Project Reqs..","file-type":"pdf","created-at":"3 days ago"}),(0,i.Wm)(b,{"file-title":"CRM App Docs..","file-type":"doc","created-at":"3 days ago"}),(0,i.Wm)(b,{"file-title":"User CRUD Styles","file-type":"css","created-at":"4 days ago"}),(0,i.Wm)(b,{"file-title":"Metronic Logo","file-type":"ai","created-at":"5 days ago"}),(0,i.Wm)(b,{"file-title":"Orders backup","file-type":"sql","created-at":"1 week ago"})]),(0,i._)("div",s,[(0,i.Wm)(b,{"file-title":"UTAIR CRM API Co..","file-type":"xml","created-at":"2 weeks ago"}),(0,i.Wm)(b,{"file-title":"Tower Hill App..","file-type":"tif","created-at":"3 weeks ago"}),u,d,c])],64)}var m=n(70655),p=n(2262),b=n(3577),g={class:"card h-100"},_={class:"card-body d-flex justify-content-center text-center flex-column p-8","data-kt-menu-trigger":"click","data-kt-menu-overflow":"true","data-kt-menu-placement":"{default:'bottom', 'lg': 'right-start'}"},v={href:"#",class:"text-gray-800 text-hover-primary d-flex flex-column"},y={class:"symbol symbol-60px mb-6"},h=["src"],x={class:"fs-5 fw-bold mb-2"},k={class:"fs-7 fw-semobold text-gray-400 mt-auto"};function A(e,t,n,a,l,o){var r=(0,i.up)("FileMenu");return(0,i.wg)(),(0,i.iD)("div",{class:"col-12 col-sm-12 col-xl",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.clickFile&&e.clickFile.apply(e,t)})},[(0,i._)("div",g,[(0,i._)("div",_,[(0,i._)("a",v,[(0,i._)("div",y,[(0,i._)("img",{src:"media/svg/files/".concat(e.fileType,".svg"),alt:""},null,8,h)]),(0,i._)("div",x,(0,b.zw)(e.fileTitle),1)]),(0,i._)("div",k,(0,b.zw)(e.createdAt),1)]),(0,i.Wm)(r)])])}var w=(0,i.uE)('<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semobold py-4 fs-6 w-100px" data-kt-menu="true"><div class="menu-item px-5"><a class="menu-link px-5"> 下载 </a></div><div class="menu-item px-5" data-bs-toggle="modal" data-bs-target="#kt_modal_share_file"><a class="menu-link px-5"> 分享 </a></div><div class="menu-item px-5"><a class="menu-link px-5"> 删除 </a></div><div class="menu-item px-5"><a class="menu-link px-5"> 属性 </a></div></div>',1);function C(e,t,n,a,l,o){var r=(0,i.up)("ShareFileModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[w,(0,i.Wm)(r)],64)}var D=n(85845),S=n(33907),Z=n(22201),F=n(49963),M={class:"modal fade",id:"kt_modal_share_file",tabindex:"-1","aria-hidden":"true"},B={class:"modal-dialog modal-dialog-centered mw-650px"},E={class:"modal-content"},T={class:"modal-header flex-stack"},L=(0,i._)("h2",null,"文件分享",-1),O={class:"svg-icon svg-icon-1"},R={class:"modal-body scroll-y pt-10 pb-15 px-lg-17"},W=(0,i._)("p",{class:"text-gray-400 fs-5 fw-semobold mb-10"},"请选择分享方式",-1),N={class:"pb-10"},Y={class:"btn btn-outline btn-outline-dashed btn-outline-default p-7 d-flex align-items-center mb-5",for:"kt_modal_share_is_enc_option_1"},U={class:"svg-icon svg-icon-4x me-4"},I=(0,i._)("span",{class:"d-block fw-semobold text-start"},[(0,i._)("span",{class:"text-dark fw-bold d-block fs-3"},"明文分享"),(0,i._)("span",{class:"text-gray-400 fw-semobold fs-6"}," 访问者可以直接下载到明文文件，文件加密的对称密钥将会包含在分享链接中。 ")],-1),V={class:"btn btn-outline btn-outline-dashed btn-outline-default p-7 d-flex align-items-center",for:"kt_modal_share_is_enc_option_2"},H={class:"svg-icon svg-icon-4x me-4"},j=(0,i._)("span",{class:"d-block fw-semobold text-start"},[(0,i._)("span",{class:"text-dark fw-bold d-block fs-3"},"加密分享"),(0,i._)("span",{class:"text-gray-400 fw-semobold fs-6"},"访问者仅能下载到加密后的文件，并进行签名校验，但无法解密文件内容。")],-1),P=(0,i._)("h3",{class:"text-dark fw-bold fs-3 mb-5"},"设置分享权限",-1),K=(0,i._)("div",{class:"text-gray-400 fw-semobold mb-10"}," 设置访问者的权限，包括分享的时间、次数等限制。 ",-1),q={class:"row mb-10"},z={class:"col-md-6 fv-row"},G=(0,i._)("label",{class:"required fs-6 fw-semobold mb-2"},"过期时间",-1),Q={class:"position-relative align-items-center"},$={class:"symbol symbol-20px me-4 position-absolute ms-4"},J={class:"symbol-label bg-secondary"},X={class:"svg-icon"},ee={class:"col-md-6 fv-row"},te=(0,i._)("label",{class:"required fs-6 fw-semobold mb-2"},"允许下载次数",-1),ne={class:"d-flex flex-center"},ie={ref:"submitShareButtonRef",type:"submit",class:"btn btn-primary"},ae=(0,i._)("span",{class:"indicator-label"}," 提交 ",-1),le=(0,i._)("span",{class:"indicator-progress"},[(0,i.Uk)(" 分享中... "),(0,i._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),oe=[ae,le];function re(e,t,n,a,l,o){var r=(0,i.up)("inline-svg"),s=(0,i.up)("el-date-picker"),u=(0,i.up)("el-form-item"),d=(0,i.up)("el-input-number"),c=(0,i.up)("Form");return(0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",B,[(0,i._)("div",E,[(0,i._)("div",T,[L,(0,i._)("div",{class:"btn btn-sm btn-icon btn-active-color-primary",onClick:t[0]||(t[0]=function(t){return e.share_file_type=""}),"data-bs-dismiss":"modal"},[(0,i._)("span",O,[(0,i.Wm)(r,{src:"media/icons/duotune/arrows/arr061.svg"})])])]),(0,i._)("div",R,[(0,i._)("div",{class:(0,b.C_)([""!==e.share_file_type&&"d-none"])},[W,(0,i._)("div",N,[(0,i.wy)((0,i._)("input",{type:"radio",class:"btn-check",name:"auth_option",value:"share_not_enc",checked:"checked",id:"kt_modal_share_is_enc_option_1","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t})},null,512),[[F.G2,e.value]]),(0,i._)("label",Y,[(0,i._)("span",U,[(0,i.Wm)(r,{src:"media/icons/duotune/coding/cod001.svg"})]),I]),(0,i.wy)((0,i._)("input",{type:"radio",class:"btn-check",name:"auth_option",value:"share_enc",id:"kt_modal_share_is_enc_option_2","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.value=t})},null,512),[[F.G2,e.value]]),(0,i._)("label",V,[(0,i._)("span",H,[(0,i.Wm)(r,{src:"media/icons/duotune/communication/com003.svg"})]),j])]),(0,i._)("button",{onClick:t[3]||(t[3]=function(t){return e.share_file_type=e.value}),class:"btn btn-primary w-100"}," 下一步 ")],2),(0,i._)("div",{class:(0,b.C_)([""===e.share_file_type&&"d-none"])},[P,K,(0,i.Wm)(c,{class:"form",onSubmit:t[6]||(t[6]=function(t){return e.submitShareForm()})},{default:(0,i.w5)((function(){return[(0,i._)("div",q,[(0,i._)("div",z,[G,(0,i._)("div",Q,[(0,i._)("div",$,[(0,i._)("span",J,[(0,i._)("span",X,[(0,i.Wm)(r,{src:"media/icons/duotune/general/gen025.svg"})])])]),(0,i.Wm)(u,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{placeholder:"请选择",modelValue:e.expiredDate,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.expiredDate=t})},null,8,["modelValue"])]})),_:1})])]),(0,i._)("div",ee,[te,(0,i.Wm)(u,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{placeholder:"请输入",modelValue:e.downloadCount,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.downloadCount=t})},null,8,["modelValue"])]})),_:1})])]),(0,i._)("div",ne,[(0,i._)("button",ie,oe,512)])]})),_:1})],2)])])])])}var se=n(12954),ue=n(78764),de=n.n(ue),ce=(0,i.aZ)({name:"share-file-modal",components:{Form:se.l0},setup:function(){var e=(0,p.iH)(""),t=(0,p.iH)(""),n=(0,p.iH)(0),i=(0,p.iH)(""),a=(0,p.iH)(null),l=function(){a.value&&(console.log(t.value,n.value),a.value.disabled=!0,a.value.setAttribute("data-kt-indicator","on"),setTimeout((function(){var e;a.value&&(a.value.disabled=!1,null===(e=a.value)||void 0===e||e.removeAttribute("data-kt-indicator")),de().fire({text:"分享成功",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(){i.value=""}))}),2e3))};return{value:e,share_file_type:i,submitShareForm:l,submitShareButtonRef:a,expiredDate:t,downloadCount:n}}}),fe=n(83744);const me=(0,fe.Z)(ce,[["render",re]]);var pe=me,be=(0,i.aZ)({name:"file-menu",components:{ShareFileModal:pe},setup:function(){(0,Z.tv)(),(0,D.QT)(),(0,S.oR)();return{}}});const ge=(0,fe.Z)(be,[["render",C]]);var _e=ge,ve=(0,i.aZ)({name:"file-card",props:{fileTitle:String,createdAt:String,fileType:String,fileId:String},components:{FileMenu:_e},methods:{clickFile:function(){console.log("file clicked, id: "+this.fileId+" type: "+this.fileType+" title: "+this.fileTitle)}}});const ye=(0,fe.Z)(ve,[["render",A]]);var he=ye,xe=n(68932),ke=n(81354),Ae=n.n(ke),we=n(15758),Ce=(0,i.aZ)({name:"profile-documents",components:{KTFile:he},setup:function(){(0,i.bv)((function(){(0,xe.M)("Documents",["Pages","Profile"])}));var e=(0,p.iH)(null),t=(0,S.oR)();return{hiddenInput:e,selectFile:function(){e.value&&e.value.click()},uploadFile:function(e){if(null!=e.target){var n=e.target["files"][0],i=new FileReader;i.readAsDataURL(n),i.onload=function(){return(0,m.mG)(this,void 0,void 0,(function(){var e,i,a;return(0,m.Jh)(this,(function(l){switch(l.label){case 0:return e=Array.from(crypto.getRandomValues(new Uint8Array(16))).map((function(e){return e.toString(16)})).join(""),e=Ae().MD5(e).toString(),"string"!==typeof this.result?[3,2]:(i=Ae().enc.Utf8.parse(this.result),a=Ae().AES.encrypt(i,e,{mode:Ae().mode.ECB,padding:Ae().pad.Pkcs7}).toString(),[4,t.dispatch(we.e.UPLOAD_FILE,{name:n.name,type:n.type,encrypted:a,file_enc_key:e})]);case 1:l.sent(),l.label=2;case 2:return[2]}}))}))}}}}}});const De=(0,fe.Z)(Ce,[["render",f]]);var Se=De}}]);