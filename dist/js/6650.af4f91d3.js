"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[6650],{4321:function(e,t){var a=[{id:Math.floor(99999*Math.random())+1,name:"Linux录播",email:"2022/7/4",company:"100",payment:{icon:"media/svg/card-logos/mastercard.svg",ccnumber:"2022/9/5",label:"mastercard"},date:"15"},{id:Math.floor(99999*Math.random())+1,name:"密码学录播",email:"2022/7/4",company:"1050",payment:{icon:"media/svg/card-logos/mastercard.svg",ccnumber:"2022/10/5",label:"mastercard"},date:"135"}];t["Z"]=a},59747:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(66252),l=a(49963),r={class:"modal fade",id:"kt_customers_export_modal",tabindex:"-1","aria-hidden":"true"},o={class:"modal-dialog modal-dialog-centered mw-650px"},s={class:"modal-content"},c={class:"modal-header"},u=(0,n._)("h2",{class:"fw-bold"},"Export Customers",-1),i={id:"kt_customers_export_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},m={class:"svg-icon svg-icon-1"},d={class:"modal-body scroll-y mx-5 mx-xl-15 my-7"},p={class:"fv-row mb-10"},f=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Select Date Range:",-1),b={class:"fv-row mb-10"},v=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Select Export Format:",-1),g={class:"row fv-row mb-15"},y=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Payment Type:",-1),k={class:"d-flex flex-column"},w={class:"text-center"},h=(0,n._)("button",{type:"reset",id:"kt_customers_export_cancel",class:"btn btn-light me-3"}," Discard ",-1),_=["data-kt-indicator"],x={key:0,class:"indicator-label"},D=(0,n.Uk)(" Submit "),V={class:"svg-icon svg-icon-3 ms-2 me-0"},C={key:1,class:"indicator-progress"},W=(0,n.Uk)(" Please wait... "),T=(0,n._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1),U=[W,T];function H(e,t,a,W,T,H){var M=(0,n.up)("inline-svg"),S=(0,n.up)("el-date-picker"),Z=(0,n.up)("el-form-item"),F=(0,n.up)("el-option"),z=(0,n.up)("el-select"),E=(0,n.up)("el-radio"),R=(0,n.up)("el-form");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",o,[(0,n._)("div",s,[(0,n._)("div",c,[u,(0,n._)("div",i,[(0,n._)("span",m,[(0,n.Wm)(M,{src:"media/icons/duotune/arrows/arr061.svg"})])])]),(0,n._)("div",d,[(0,n.Wm)(R,{onSubmit:t[6]||(t[6]=(0,l.iM)((function(t){return e.submit()}),["prevent"])),model:e.formData,rules:e.rules,ref:"formRef"},{default:(0,n.w5)((function(){return[(0,n._)("div",p,[f,(0,n.Wm)(Z,{prop:"name"},{default:(0,n.w5)((function(){return[(0,n.Wm)(S,{type:"daterange",modelValue:e.formData.dateRange,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.dateRange=t})},null,8,["modelValue"])]})),_:1})]),(0,n._)("div",b,[v,(0,n.Wm)(z,{modelValue:e.formData.exportFormat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.exportFormat=t}),class:"d-block"},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{value:"excel",key:"excel",label:"Excel"}),(0,n.Wm)(F,{value:"pdf",key:"pdf",label:"PDF"}),(0,n.Wm)(F,{value:"cvs",key:"cvs",label:"CVS"}),(0,n.Wm)(F,{value:"zip",key:"zip",label:"ZIP"})]})),_:1},8,["modelValue"])]),(0,n._)("div",g,[y,(0,n._)("div",k,[(0,n.Wm)(E,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.paymentType=t}),label:"All"},null,8,["modelValue"]),(0,n.Wm)(E,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.paymentType=t}),label:"Visa"},null,8,["modelValue"]),(0,n.Wm)(E,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.paymentType=t}),label:"Mastercard"},null,8,["modelValue"]),(0,n.Wm)(E,{modelValue:e.formData.paymentType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.paymentType=t}),label:"American Express"},null,8,["modelValue"])])]),(0,n._)("div",w,[h,(0,n._)("button",{"data-kt-indicator":e.loading?"on":null,type:"submit",class:"btn btn-lg btn-primary"},[e.loading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",x,[D,(0,n._)("span",V,[(0,n.Wm)(M,{src:"media/icons/duotune/arrows/arr064.svg"})])])),e.loading?((0,n.wg)(),(0,n.iD)("span",C,U)):(0,n.kq)("",!0)],8,_)])]})),_:1},8,["model","rules"])])])])])}var M=a(70655),S=a(2262),Z=a(78764),F=a.n(Z),z=(0,n.aZ)({name:"export-customers-modal",components:{},setup:function(){var e=(0,S.iH)(null),t=(0,S.iH)(!1),a=(0,S.qj)({shortcuts:[{text:"Last week",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"Last month",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"Last 3 months",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]}),n=(0,S.iH)({dateRange:[],exportFormat:"",paymentType:""}),l=(0,S.iH)({dateRange:[{required:!0,message:"Date range is required",trigger:"change"}]}),r=function(){e.value&&e.value.validate((function(e){if(!e)return F().fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}),!1;t.value=!0,setTimeout((function(){t.value=!1,F().fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(){window.location.reload()}))}),2e3)}))};return(0,M.pi)((0,M.pi)({},(0,S.BK)(a)),{formData:n,rules:l,submit:r,formRef:e,loading:t})}}),E=a(83744);const R=(0,E.Z)(z,[["render",H]]);var j=R},39680:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var n=a(66252),l=a(49963),r=a(3577),o={class:"card"},s={class:"card-header border-0 pt-6"},c={class:"card-title"},u={class:"d-flex align-items-center position-relative my-1"},i={class:"svg-icon svg-icon-1 position-absolute ms-6"},m={class:"card-toolbar"},d={key:0,class:"d-flex justify-content-end","data-kt-customer-table-toolbar":"base"},p={class:"svg-icon svg-icon-2"},f=(0,n.Uk)(" 新增分享 "),b={key:1,class:"d-flex justify-content-end align-items-center","data-kt-customer-table-toolbar":"selected"},v={class:"fw-bold me-5"},g={class:"me-2"},y=(0,n.Uk)("Selected "),k=(0,n._)("div",{class:"d-flex justify-content-end align-items-center d-none","data-kt-customer-table-toolbar":"selected"},[(0,n._)("div",{class:"fw-bold me-5"},[(0,n._)("span",{class:"me-2","data-kt-customer-table-select":"selected_count"}),(0,n.Uk)("Selected ")]),(0,n._)("button",{type:"button",class:"btn btn-danger","data-kt-customer-table-select":"delete_selected"}," Delete Selected ")],-1),w={class:"card-body pt-0"},h={class:"form-check form-check-sm form-check-custom form-check-solid"},_=["value"],x={href:"#",class:"text-gray-600 text-hover-primary mb-1"},D={href:"#",class:"btn btn-sm btn-light btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end"},V=(0,n.Uk)("Actions "),C={class:"svg-icon svg-icon-5 m-0"},W={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semobold fs-7 w-125px py-4","data-kt-menu":"true"},T={class:"menu-item px-3"},U=(0,n.Uk)("View"),H={class:"menu-item px-3"},M=["onClick"];function S(e,t,a,S,Z,F){var z=(0,n.up)("inline-svg"),E=(0,n.up)("router-link"),R=(0,n.up)("Datatable"),j=(0,n.up)("ExportCustomerModal"),q=(0,n.up)("AddCustomerModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",o,[(0,n._)("div",s,[(0,n._)("div",c,[(0,n._)("div",u,[(0,n._)("span",i,[(0,n.Wm)(z,{src:"media/icons/duotune/general/gen021.svg"})]),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.search=t}),onInput:t[1]||(t[1]=function(t){return e.searchItems()}),class:"form-control form-control-solid w-250px ps-15",placeholder:"搜索分享记录"},null,544),[[l.nr,e.search]])])]),(0,n._)("div",m,[0===e.checkedCustomers.length?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(t){return e.router.push("/dashboard")})},[(0,n._)("span",p,[(0,n.Wm)(z,{src:"media/icons/duotune/arrows/arr075.svg"})]),f])])):((0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("div",v,[(0,n._)("span",g,(0,r.zw)(e.checkedCustomers.length),1),y]),(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[3]||(t[3]=function(t){return e.deleteFewCustomers()})}," Delete Selected ")])),k])]),(0,n._)("div",w,[(0,n.Wm)(R,{"table-data":e.tableData,"table-header":e.tableHeader,"enable-items-per-page-dropdown":!0},{"cell-checkbox":(0,n.w5)((function(a){var r=a.row;return[(0,n._)("div",h,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",value:r.id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.checkedCustomers=t})},null,8,_),[[l.e8,e.checkedCustomers]])])]})),"cell-name":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,r.zw)(t.name),1)]})),"cell-email":(0,n.w5)((function(e){var t=e.row;return[(0,n._)("a",x,(0,r.zw)(t.email),1)]})),"cell-company":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,r.zw)(t.company),1)]})),"cell-paymentMethod":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,r.zw)(t.payment.ccnumber),1)]})),"cell-date":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,r.zw)(t.date),1)]})),"cell-actions":(0,n.w5)((function(t){var a=t.row;return[(0,n._)("a",D,[V,(0,n._)("span",C,[(0,n.Wm)(z,{src:"media/icons/duotune/arrows/arr072.svg"})])]),(0,n._)("div",W,[(0,n._)("div",T,[(0,n.Wm)(E,{to:"/apps/customers/customer-details",class:"menu-link px-3"},{default:(0,n.w5)((function(){return[U]})),_:1})]),(0,n._)("div",H,[(0,n._)("a",{onClick:function(t){return e.deleteCustomer(a.id)},class:"menu-link px-3"},"Delete",8,M)])])]})),_:1},8,["table-data","table-header"])])]),(0,n.Wm)(j),(0,n.Wm)(q)],64)}var Z=a(70655),F=a(2262),z=a(27805),E=a(59747),R=a(51247),j=a(68932),q=a(4321),A=a(22201),B=(0,n.aZ)({name:"share-file",components:{Datatable:z.Z,ExportCustomerModal:E.Z,AddCustomerModal:R.Z},setup:function(){var e=(0,A.tv)(),t=(0,F.iH)([]),a=(0,F.iH)([{key:"checkbox",sortable:!1},{name:"分享文件",key:"name",sortable:!0},{name:"分享时间",key:"email",sortable:!0},{name:"可下载次数",key:"company",sortable:!0},{name:"截止时间",key:"paymentMethod",sortingField:"payment.label",sortable:!0},{name:"已下载次数",key:"date",sortable:!0}]),l=(0,F.iH)(q.Z),r=(0,F.iH)([]);(0,n.bv)((function(){var e;(0,j.V)("分享管理"),(e=r.value).splice.apply(e,(0,Z.ev)([0,l.value.length],l.value,!1))}));var o=function(){t.value.forEach((function(e){s(e)})),t.value.length=0},s=function(e){for(var t=0;t<l.value.length;t++)l.value[t].id===e&&l.value.splice(t,1)},c=(0,F.iH)(""),u=function(){var e,t;if((e=l.value).splice.apply(e,(0,Z.ev)([0,l.value.length],r.value,!1)),""!==c.value){for(var a=[],n=0;n<l.value.length;n++)i(l.value[n],c.value)&&a.push(l.value[n]);(t=l.value).splice.apply(t,(0,Z.ev)([0,l.value.length],a,!1))}},i=function(e,t){for(var a in e)if(!Number.isInteger(e[a])&&"object"!==typeof e[a]&&-1!=e[a].indexOf(t))return!0;return!1};return{tableData:l,tableHeader:a,deleteCustomer:s,search:c,searchItems:u,checkedCustomers:t,deleteFewCustomers:o,router:e}}}),I=a(83744);const L=(0,I.Z)(B,[["render",S]]);var P=L}}]);