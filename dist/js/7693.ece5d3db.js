"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[7693],{27693:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var s=n(66252),r=function(t){return(0,s.dD)("data-v-3e18a689"),t=t(),(0,s.Cn)(),t},a={class:"w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto"},o={class:"text-center mb-10"},l=r((function(){return(0,s._)("h1",{class:"text-dark mb-3"},"登录",-1)})),i={class:"text-gray-400 fw-semobold fs-4"},c=(0,s.Uk)(" 还没有账户？ "),u=(0,s.Uk)(" 创建账户 "),d=r((function(){return(0,s._)("div",{class:"mb-10 bg-light-info p-8 rounded"},[(0,s._)("div",{class:"text-info"},"完工！！！！")],-1)})),m={class:"fv-row mb-10"},f=r((function(){return(0,s._)("label",{class:"form-label fs-6 fw-bold text-dark"},"邮箱",-1)})),b={class:"fv-plugins-message-container"},g={class:"fv-help-block"},p={class:"fv-row mb-10"},v={class:"d-flex flex-stack mb-2"},_=r((function(){return(0,s._)("label",{class:"form-label fw-bold text-dark fs-6 mb-0"},"密码",-1)})),h=(0,s.Uk)(" 忘记密码？ "),w={class:"fv-plugins-message-container"},x={class:"fv-help-block"},k={class:"text-center"},y={type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},E=r((function(){return(0,s._)("span",{class:"indicator-label"}," 登录 ",-1)})),L=r((function(){return(0,s._)("span",{class:"indicator-progress"},[(0,s.Uk)(" 登录中.... "),(0,s._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1)})),S=[E,L],U=r((function(){return(0,s._)("div",{class:"text-center text-muted text-uppercase fw-bold mb-5"},"或",-1)})),B=r((function(){return(0,s._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},[(0,s._)("img",{alt:"Logo",src:"media/svg/brand-logos/cuc.svg",class:"h-20px me-3"}),(0,s.Uk)(" 使用中传账户登录 ")],-1)})),T=r((function(){return(0,s._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},[(0,s._)("img",{alt:"Logo",src:"media/svg/brand-logos/google-icon.svg",class:"h-20px me-3"}),(0,s.Uk)(" 使用谷歌账户登录 ")],-1)})),W=r((function(){return(0,s._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100"},[(0,s._)("img",{alt:"Logo",src:"media/svg/brand-logos/apple-black.svg",class:"h-20px me-3"}),(0,s.Uk)(" 使用苹果账户登录 ")],-1)}));function G(t,e,n,r,E,L){var G=(0,s.up)("router-link"),C=(0,s.up)("Field"),F=(0,s.up)("ErrorMessage"),I=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(I,{class:"form w-100",id:"kt_login_signin_form",onSubmit:t.onSubmitLogin,"validation-schema":t.login},{default:(0,s.w5)((function(){return[(0,s._)("div",o,[l,(0,s._)("div",i,[c,(0,s.Wm)(G,{to:"/multi-step-sign-up",class:"link-primary fw-bold"},{default:(0,s.w5)((function(){return[u]})),_:1})])]),d,(0,s._)("div",m,[f,(0,s.Wm)(C,{class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),(0,s._)("div",b,[(0,s._)("div",g,[(0,s.Wm)(F,{name:"email"})])])]),(0,s._)("div",p,[(0,s._)("div",v,[_,(0,s.Wm)(G,{to:"/password-reset",class:"link-primary fs-6 fw-bold"},{default:(0,s.w5)((function(){return[h]})),_:1})]),(0,s.Wm)(C,{class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),(0,s._)("div",w,[(0,s._)("div",x,[(0,s.Wm)(F,{name:"password"})])])]),(0,s._)("div",k,[(0,s._)("button",y,S,512),U,B,T,W])]})),_:1},8,["onSubmit","validation-schema"])])}var C=n(70655),F=n(2262),I=n(12954),D=n(15758),O=n(33907),Z=n(22201),A=n(48542),N=n.n(A),R=n(74231),q=(0,s.aZ)({name:"sign-in",components:{Field:I.gN,Form:I.l0,ErrorMessage:I.Bc},setup:function(){var t=this,e=(0,O.oR)(),n=(0,Z.tv)(),s=(0,F.iH)(null),r=R.Ry().shape({email:R.Z_().email().required().label("Email"),password:R.Z_().min(8).required().label("Password")}),a=function(r){return(0,C.mG)(t,void 0,void 0,(function(){var t,a,o;return(0,C.Jh)(this,(function(l){switch(l.label){case 0:return e.dispatch(D.e.LOGOUT),s.value&&(s.value.disabled=!0,s.value.setAttribute("data-kt-indicator","on")),[4,e.dispatch(D.e.GET_SALT,{email:r.email})];case 1:return l.sent(),[4,e.dispatch(D.e.GEN_DERIVED_KEY,r)];case 2:return l.sent(),[4,e.dispatch(D.e.LOGIN,r)];case 3:return l.sent(),t=Object.keys(e.getters.getErrors)[0],a=e.getters.getErrors[t],a?[3,5]:[4,e.dispatch(D.e.GET_FILE_LIST)];case 4:return l.sent(),N().fire({text:"登录成功！",icon:"success",buttonsStyling:!1,confirmButtonText:"进入",customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then((function(){n.push({name:"dashboard"})})),[3,6];case 5:N().fire({text:a[0],icon:"error",buttonsStyling:!1,confirmButtonText:"重试",customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}),l.label=6;case 6:return null===(o=s.value)||void 0===o||o.removeAttribute("data-kt-indicator"),s.value.disabled=!1,[2]}}))}))};return{onSubmitLogin:a,login:r,submitButton:s}}}),M=n(83744);const j=(0,M.Z)(q,[["render",G],["__scopeId","data-v-3e18a689"]]);var H=j}}]);