"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[1066],{68932:function(e,l,a){a.d(l,{M:function(){return s},V:function(){return o}});var t=a(48246),n=a(15758),s=function(e,l){t.Z.dispatch(n.e.SET_BREADCRUMB_ACTION,{title:e,pageBreadcrumbPath:l})},o=function(e){t.Z.dispatch(n.e.SET_BREADCRUMB_ACTION,{title:e})}},1066:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ml}});var t=a(66252),n={class:"d-flex flex-wrap flex-stack mb-6"},s=(0,t._)("h3",{class:"fw-semobold my-2 text-gray-400"},null,-1),o={class:"d-flex my-2"},r={class:"svg-icon svg-icon-2"},i={key:0,class:"spinner-border spinner-border-sm align-middle ms-2"},d=(0,t.Uk)(" 上传文件 "),c={class:"row g-6 g-xl-9 mb-6 mb-xl-9"},u=(0,t._)("div",{class:"col d-none d-xl-block"},null,-1),m=(0,t._)("div",{class:"col d-none d-xl-block"},null,-1),f={class:"row g-6 g-xl-9 mb-6 mb-xl-9"},_={class:"row g-6 g-xl-9 mb-6 mb-xl-9"},p=(0,t._)("div",{class:"col d-none d-xl-block"},null,-1),v=(0,t._)("div",{class:"col d-none d-xl-block"},null,-1),b=(0,t._)("div",{class:"col d-none d-xl-block"},null,-1);function g(e,l,a,g,h,k){var w=(0,t.up)("inline-svg"),x=(0,t.up)("KTFolder"),y=(0,t.up)("KTFile");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",n,[s,(0,t._)("div",o,[(0,t._)("input",{type:"file",id:"btn_file",style:{display:"none"},ref:"hiddenInput",onChange:l[0]||(l[0]=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];return e.uploadFile&&e.uploadFile.apply(e,l)})},null,544),(0,t._)("button",{type:"button",class:"btn btn-primary",onClick:l[1]||(l[1]=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];return e.selectFile&&e.selectFile.apply(e,l)}),ref:"uploadButton"},[(0,t._)("span",r,[e.uploading?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(w,{key:0,src:"media/icons/duotune/arrows/arr075.svg"}))]),e.uploading?((0,t.wg)(),(0,t.iD)("span",i)):(0,t.kq)("",!0),d],512)])]),(0,t._)("div",c,[(0,t.Wm)(x,{"folder-name":"Finance",files:"7"}),(0,t.Wm)(x,{"folder-name":"Customers",files:"3"}),(0,t.Wm)(x,{"folder-name":"CRM Project",files:"25"}),u,m]),(0,t._)("div",f,[(0,t.Wm)(y,{"file-title":"Project Reqs..","file-type":"pdf","created-at":"3 days ago"}),(0,t.Wm)(y,{"file-title":"CRM App Docs..","file-type":"doc","created-at":"3 days ago"}),(0,t.Wm)(y,{"file-title":"User CRUD Styles","file-type":"css","created-at":"4 days ago"}),(0,t.Wm)(y,{"file-title":"Metronic Logo","file-type":"ai","created-at":"5 days ago"}),(0,t.Wm)(y,{"file-title":"Orders backup","file-type":"sql","created-at":"1 week ago"})]),(0,t._)("div",_,[(0,t.Wm)(y,{"file-title":"UTAIR CRM API Co..","file-type":"xml","created-at":"2 weeks ago"}),(0,t.Wm)(y,{"file-title":"Tower Hill App..","file-type":"tif","created-at":"3 weeks ago"}),p,v,b])],64)}var h=a(70655),k=a(2262),w={class:"col-12 col-sm-12 col-xl"},x=(0,t.uE)('<div class="card h-100"><div class="card-body d-flex justify-content-center text-center flex-column p-8"><a href="#" class="text-gray-800 text-hover-primary d-flex flex-column"><div class="symbol symbol-75px mb-6"><img src="media/svg/files/folder-document.svg" alt=""></div><div class="fs-5 fw-bold mb-2">Finance</div></a><div class="fs-7 fw-semobold text-gray-400 mt-auto">7 files</div></div></div>',1),y=[x];function D(e,l,a,n,s,o){return(0,t.wg)(),(0,t.iD)("div",w,y)}var W=(0,t.aZ)({name:"folder-card",props:{folderName:String,files:String},components:{}}),S=a(83744);const R=(0,S.Z)(W,[["render",D]]);var F=R,M=a(3577),T={class:"col-12 col-sm-12 col-xl"},C={class:"card h-100"},U={class:"card-body d-flex justify-content-center text-center flex-column p-8","data-kt-menu-trigger":"click","data-kt-menu-overflow":"true","data-kt-menu-placement":"{default:'bottom', 'lg': 'right-start'}"},L={href:"#",class:"text-gray-800 text-hover-primary d-flex flex-column"},V={class:"symbol symbol-60px mb-6"},H=["src"],A={class:"fs-5 fw-bold mb-2"},B={class:"fs-7 fw-semobold text-gray-400 mt-auto"};function Z(e,l,a,n,s,o){var r=(0,t.up)("FileMenu");return(0,t.wg)(),(0,t.iD)("div",T,[(0,t._)("div",C,[(0,t._)("div",U,[(0,t._)("a",L,[(0,t._)("div",V,[(0,t._)("img",{src:"media/svg/files/".concat(e.fileType,".svg"),alt:""},null,8,H)]),(0,t._)("div",A,(0,M.zw)(e.fileTitle),1)]),(0,t._)("div",B,(0,M.zw)(e.createdAt),1)]),(0,t.Wm)(r)])])}var E={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semobold py-4 fs-6 w-100px","data-kt-menu":"true"},I=(0,t._)("div",{class:"menu-item px-5"},[(0,t._)("a",{class:"menu-link px-5"}," 下载 ")],-1),j=(0,t._)("a",{class:"menu-link px-5"}," 分享 ",-1),q=[j],P=(0,t._)("div",{class:"menu-item px-5"},[(0,t._)("a",{class:"menu-link px-5"}," 删除 ")],-1),O=(0,t._)("div",{class:"menu-item px-5"},[(0,t._)("a",{class:"menu-link px-5"}," 属性 ")],-1);function K(e,l,a,n,s,o){var r=(0,t.up)("ShareFileModal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",E,[I,(0,t._)("div",{class:"menu-item px-5","data-bs-toggle":"modal","data-bs-target":"#kt_modal_share_file",onClick:l[0]||(l[0]=function(l){return e.store.commit("SET_SHOW_LINK",!1)})},q),P,O]),(0,t.Wm)(r)],64)}var N=a(85845),z=a(33907),G=a(22201),J=a(49963),Y=function(e){return(0,t.dD)("data-v-30ee9fb1"),e=e(),(0,t.Cn)(),e},Q={class:"modal fade",id:"kt_modal_share_file",ref:"addCustomerModalRef",tabindex:"-1","aria-hidden":"true"},X={key:0,class:"modal-dialog modal-dialog-centered mw-650px"},$={class:"modal-content"},ee={class:"modal-header",id:"kt_modal_add_customer_header"},le=Y((function(){return(0,t._)("h2",{class:"fw-bold"},"分享文件",-1)})),ae={id:"kt_modal_add_customer_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},te={class:"svg-icon svg-icon-1"},ne={class:"modal-body py-10 px-lg-17"},se={class:"scroll-y me-n7 pe-7",id:"kt_modal_add_customer_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_customer_header","data-kt-scroll-wrappers":"#kt_modal_add_customer_scroll","data-kt-scroll-offset":"300px"},oe={class:"fv-row mb-7"},re=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},"分享文件ID",-1)})),ie={class:"fv-row mb-7"},de=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},"分享文件名",-1)})),ce={class:"fv-row mb-7"},ue=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},[(0,t._)("span",null,"分享者")],-1)})),me={class:"fv-row mb-15"},fe=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},"分享信息",-1)})),_e={class:"fw-bold fs-3 rotate collapsible mb-7","data-bs-toggle":"collapse",href:"#kt_modal_add_customer_billing_info",role:"button","aria-expanded":"false","aria-controls":"kt_customer_view_details"},pe=(0,t.Uk)(" 分享权限设定 "),ve={class:"ms-2 rotate-180"},be={class:"svg-icon svg-icon-3"},ge={id:"kt_modal_add_customer_billing_info",class:"collapse show"},he={class:"row g-9 mb-7"},ke={class:"col-md-6 fv-row"},we=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},"过期时间（天）",-1)})),xe={class:"col-md-6 fv-row"},ye=Y((function(){return(0,t._)("label",{class:"fs-6 fw-semobold mb-2"},"可下载次数",-1)})),De={class:"fv-row mb-7"},We={class:"d-flex flex-stack"},Se=Y((function(){return(0,t._)("div",{class:"me-5"},[(0,t._)("label",{class:"fs-6 fw-semobold"},"允许签名校验？"),(0,t._)("div",{class:"fs-7 fw-semobold text-muted"}," 将共享您的RSA公钥，以便访问者进行签名校验 ")],-1)})),Re={class:"form-check form-switch form-check-custom form-check-solid"},Fe=Y((function(){return(0,t._)("span",{class:"form-check-label fw-semobold text-muted",for:"kt_modal_add_customer_billing"}," 是 ",-1)})),Me={class:"fv-row mb-7"},Te={class:"d-flex flex-stack"},Ce=Y((function(){return(0,t._)("div",{class:"me-5"},[(0,t._)("label",{class:"fs-6 fw-semobold"},"允许用户下载解密后文件？"),(0,t._)("div",{class:"fs-7 fw-semobold text-muted"}," 若允许，该文件的加密密钥将会公开，但不会公开您的账户密钥。 ")],-1)})),Ue={class:"form-check form-switch form-check-custom form-check-solid"},Le=Y((function(){return(0,t._)("span",{class:"form-check-label fw-semobold text-muted",for:"kt_modal_add_customer_billing"}," 是 ",-1)})),Ve={class:"modal-footer flex-center"},He=["data-kt-indicator"],Ae={key:0,class:"indicator-label"},Be=(0,t.Uk)(" 提交 "),Ze={class:"svg-icon svg-icon-3 ms-2 me-0"},Ee={key:1,class:"indicator-progress"},Ie=(0,t.Uk)(" 分享中... "),je=Y((function(){return(0,t._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1)})),qe=[Ie,je];function Pe(e,l,a,n,s,o){var r=(0,t.up)("inline-svg"),i=(0,t.up)("el-input"),d=(0,t.up)("el-form-item"),c=(0,t.up)("el-input-number"),u=(0,t.up)("el-form"),m=(0,t.up)("ShowLinkModalContent");return(0,t.wg)(),(0,t.iD)("div",Q,[e.showLink?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("div",$,[(0,t._)("div",ee,[le,(0,t._)("div",ae,[(0,t._)("span",te,[(0,t.Wm)(r,{src:"media/icons/duotune/arrows/arr061.svg"})])])]),(0,t.Wm)(u,{onSubmit:l[8]||(l[8]=(0,J.iM)((function(l){return e.submit()}),["prevent"])),model:e.formData,ref:"formRef"},{default:(0,t.w5)((function(){return[(0,t._)("div",ne,[(0,t._)("div",se,[(0,t._)("div",oe,[re,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(i,{modelValue:e.formData.share_file_id,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.formData.share_file_id=l}),type:"text",placeholder:"",readonly:""},null,8,["modelValue"])]})),_:1})]),(0,t._)("div",ie,[de,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(i,{modelValue:e.formData.share_filename,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.formData.share_filename=l}),type:"text",placeholder:"",readonly:""},null,8,["modelValue"])]})),_:1})]),(0,t._)("div",ce,[ue,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(i,{modelValue:e.formData.share_user,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.formData.share_user=l}),readonly:""},null,8,["modelValue"])]})),_:1})]),(0,t._)("div",me,[fe,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(i,{modelValue:e.formData.description,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.formData.description=l}),type:"textarea",placeholder:"该信息将显示于分享页面"},null,8,["modelValue"])]})),_:1})]),(0,t._)("div",_e,[pe,(0,t._)("span",ve,[(0,t._)("span",be,[(0,t.Wm)(r,{src:"media/icons/duotune/arrows/arr072.svg"})])])]),(0,t._)("div",ge,[(0,t._)("div",he,[(0,t._)("div",ke,[we,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{modelValue:e.formData.expired_days,"onUpdate:modelValue":l[4]||(l[4]=function(l){return e.formData.expired_days=l}),min:"1"},null,8,["modelValue"])]})),_:1})]),(0,t._)("div",xe,[ye,(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{modelValue:e.formData.expired_download_count,"onUpdate:modelValue":l[5]||(l[5]=function(l){return e.formData.expired_download_count=l}),min:"1"},null,8,["modelValue"])]})),_:1})])]),(0,t._)("div",De,[(0,t._)("div",We,[Se,(0,t._)("label",Re,[(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l[6]||(l[6]=function(l){return e.formData.share_rsa_pk=l}),id:"kt_modal_add_customer_billing",checked:"checked"},null,512),[[J.e8,e.formData.share_rsa_pk]]),Fe])])]),(0,t._)("div",Me,[(0,t._)("div",Te,[Ce,(0,t._)("label",Ue,[(0,t.wy)((0,t._)("input",{class:"form-check-input",name:"billing",type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=function(l){return e.formData.share_enc_key=l}),id:"kt_modal_add_customer_billing",checked:"checked"},null,512),[[J.e8,e.formData.share_enc_key]]),Le])])])])])]),(0,t._)("div",Ve,[(0,t._)("button",{"data-kt-indicator":e.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[e.loading?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",Ae,[Be,(0,t._)("span",Ze,[(0,t.Wm)(r,{src:"media/icons/duotune/arrows/arr064.svg"})])])),e.loading?((0,t.wg)(),(0,t.iD)("span",Ee,qe)):(0,t.kq)("",!0)],8,He)])]})),_:1},8,["model"])])])),e.showLink?((0,t.wg)(),(0,t.j4)(m,{key:1})):(0,t.kq)("",!0)],512)}var Oe=a(78764),Ke=a.n(Oe),Ne={class:"modal-dialog modal-dialog-centered mw-800px"},ze={class:"modal-content"},Ge={class:"modal-header pb-0 border-0 justify-content-end"},Je={class:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal"},Ye={class:"svg-icon svg-icon-1"},Qe={class:"modal-body scroll-y pt-0 pb-15"},Xe={class:"mw-lg-600px mx-auto"},$e=(0,t._)("div",{class:"mb-13 text-center"},[(0,t._)("h1",{class:"mb-3"},"分享成功"),(0,t._)("div",{class:"text-gray-400 fw-semobold fs-5"},[(0,t.Uk)(" 关于分享文件的技术细节，可以参阅我们的 "),(0,t._)("a",{href:"#",class:"link-primary fw-bold"},"实验报告"),(0,t.Uk)(". ")])],-1),el={class:"mb-10"},ll=(0,t._)("h4",{class:"fs-5 fw-semobold text-gray-800"}," 把下面的链接分享给朋友： ",-1),al={class:"d-flex"},tl=["value"],nl={ref:"copyButtonRef",id:"kt_share_earn_link_copy_button",class:"btn btn-light fw-bold flex-shrink-0","data-clipboard-target":"#kt_share_earn_link_input"},sl=(0,t.uE)('<div class="d-flex"><a href="#" class="btn btn-light-primary w-100"><img alt="Logo" src="media/svg/brand-logos/google-icon.svg" class="h-15px me-3"> Google </a><a href="#" class="btn btn-icon btn-light-primary w-100 mx-6"><img alt="Logo" src="media/svg/brand-logos/facebook-2.svg" class="h-20px me-3"> Facebook </a><a href="#" class="btn btn-icon btn-light-primary w-100"><img alt="Logo" src="media/svg/brand-logos/twitter.svg" class="h-20px me-3"> Twitter </a></div>',1);function ol(e,l,a,n,s,o){var r=(0,t.up)("inline-svg");return(0,t.wg)(),(0,t.iD)("div",Ne,[(0,t._)("div",ze,[(0,t._)("div",Ge,[(0,t._)("div",Je,[(0,t._)("span",Ye,[(0,t.Wm)(r,{src:"media/icons/duotune/arrows/arr061.svg"})])])]),(0,t._)("div",Qe,[(0,t._)("div",Xe,[$e,(0,t._)("div",el,[ll,(0,t._)("div",al,[(0,t._)("input",{ref:"inputRef",id:"kt_share_earn_link_input",type:"text",class:"form-control form-control-solid me-3 flex-grow-1",name:"search",value:e.share_link},null,8,tl),(0,t._)("button",nl," 复制链接 ",512)])]),sl])])])])}var rl=a(42152),il=a.n(rl),dl=(0,t.aZ)({name:"show-link-modal-content",components:{},setup:function(){var e=(0,k.iH)(null),l=(0,k.iH)(null),a=(0,z.oR)(),n=(0,t.Fl)((function(){return"https://pan.neixiangde.ren/#/shared?share_token="+a.state.ShareFileModule.share_token}));return(0,t.bv)((function(){var a=new(il())(e.value);a.on("success",(function(a){var t,n,s,o=null===(t=e.value)||void 0===t?void 0:t.innerHTML;null===(n=l.value)||void 0===n||n.classList.add("bg-success"),null===(s=l.value)||void 0===s||s.classList.add("text-inverse-success"),e.value&&(e.value.innerHTML="已复制"),setTimeout((function(){var a,t;e.value&&o&&(e.value.innerHTML=o),null===(a=l.value)||void 0===a||a.classList.remove("bg-success"),null===(t=l.value)||void 0===t||t.classList.remove("text-inverse-success")}),3e3),a.clearSelection()}))})),{copyButtonRef:e,inputRef:l,share_link:n}}});const cl=(0,S.Z)(dl,[["render",ol]]);var ul=cl,ml=(0,t.aZ)({name:"share-file-modal",components:{ShowLinkModalContent:ul},setup:function(){var e=this,l=(0,z.oR)(),a=(0,k.iH)(null),n=(0,k.iH)(null),s=(0,k.iH)(!1),o=(0,k.iH)({share_file_id:11,share_filename:"test",share_user:"sean@dellito.com",description:"",expired_days:1,expired_download_count:1,share_rsa_pk:!0,share_enc_key:!0,created_timestamp:Date.now()}),r=(0,t.Fl)((function(){return Date.now()+864e5*o.value.expired_days})),i=(0,t.Fl)((function(){return l.state.ShareFileModule.showLink})),d=function(){return(0,h.mG)(e,void 0,void 0,(function(){var e,t;return(0,h.Jh)(this,(function(n){switch(n.label){case 0:return a.value?(s.value=!0,[4,l.dispatch("share_file",o.value)]):[2];case 1:return n.sent(),e=Object.keys(l.getters.getErrors)[0],t=l.getters.getErrors[e],t?Ke().fire({text:t[0],icon:"error",buttonsStyling:!1,confirmButtonText:"重试",customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}):Ke().fire({text:"分享成功！",icon:"success",buttonsStyling:!1,confirmButtonText:"查看链接",customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then((function(){l.commit("SET_SHOW_LINK",!0)})),s.value=!1,[2]}}))}))};return{formData:o,submit:d,formRef:a,loading:s,addCustomerModalRef:n,showLink:i,expired_days:r}}});const fl=(0,S.Z)(ml,[["render",Pe],["__scopeId","data-v-30ee9fb1"]]);var _l=fl,pl=(0,t.aZ)({name:"file-menu",components:{ShareFileModal:_l},setup:function(){(0,G.tv)(),(0,N.QT)();var e=(0,z.oR)();return{store:e}}});const vl=(0,S.Z)(pl,[["render",K]]);var bl=vl,gl=(0,t.aZ)({name:"file-card",props:{fileTitle:String,createdAt:String,fileType:String},components:{FileMenu:bl}});const hl=(0,S.Z)(gl,[["render",Z]]);var kl=hl,wl=a(68932),xl=a(81354),yl=a.n(xl),Dl=a(15758),Wl=a(48542),Sl=a.n(Wl),Rl=(0,t.aZ)({name:"profile-documents",components:{KTFolder:F,KTFile:kl},setup:function(){(0,t.bv)((function(){(0,wl.M)("Documents",["Pages","Profile"])}));var e=(0,k.iH)(null),l=(0,k.iH)(null),a=(0,z.oR)(),n=(0,k.iH)(!1),s=function(){e.value&&e.value.click()},o=function(e){if(l.value&&null!=e.target){n.value=!0,l.value.disabled=!0;var t=e.target["files"][0],s=new FileReader;s.readAsDataURL(t),s.onload=function(){return(0,h.mG)(this,void 0,void 0,(function(){var e,s,o,r;return(0,h.Jh)(this,(function(i){switch(i.label){case 0:return l.value?t.size>10485760?(e=(t.size/1024/1024).toFixed(2),Sl().fire({title:"文件大小超过10M",text:"当前文件大小为"+e+"M，请重新选择",icon:"error",confirmButtonText:"确定"}),n.value=!1,l.value.disabled=!1,[2]):(s=Array.from(crypto.getRandomValues(new Uint8Array(16))).map((function(e){return e.toString(16)})).join(""),s=yl().MD5(s).toString(),"string"!==typeof this.result?[3,2]:(o=yl().enc.Utf8.parse(this.result),r=yl().AES.encrypt(o,s,{mode:yl().mode.ECB,padding:yl().pad.Pkcs7}).toString(),[4,a.dispatch(Dl.e.UPLOAD_FILE,{name:t.name,type:t.type,encrypted:r,file_enc_key:s})])):[2];case 1:i.sent(),n.value=!1,l.value.disabled=!1,i.label=2;case 2:return[2]}}))}))}}};return{hiddenInput:e,selectFile:s,uploadFile:o,uploading:n,uploadButton:l}}});const Fl=(0,S.Z)(Rl,[["render",g]]);var Ml=Fl}}]);