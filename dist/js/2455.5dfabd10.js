"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[2455],{4321:function(e,t){var a=[{id:Math.floor(99999*Math.random())+1,name:"Linux录播",email:"2022/7/4",company:"100",payment:{icon:"media/svg/card-logos/mastercard.svg",ccnumber:"2022/9/5",label:"mastercard"},date:"15"},{id:Math.floor(99999*Math.random())+1,name:"密码学录播",email:"2022/7/4",company:"1050",payment:{icon:"media/svg/card-logos/mastercard.svg",ccnumber:"2022/10/5",label:"mastercard"},date:"135"}];t["Z"]=a},59747:function(e,t,a){a.d(t,{Z:function(){return R}});var n=a(66252),l=a(49963),o={class:"modal fade",id:"kt_customers_export_modal",tabindex:"-1","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered mw-650px"},s={class:"modal-content"},c={class:"modal-header"},m=(0,n._)("h2",{class:"fw-bold"},"Export Customers",-1),u={id:"kt_customers_export_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},i={class:"svg-icon svg-icon-1"},d={class:"modal-body scroll-y mx-5 mx-xl-15 my-7"},p={class:"fv-row mb-10"},b=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Select Date Range:",-1),f={class:"fv-row mb-10"},v=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Select Export Format:",-1),g={class:"row fv-row mb-15"},y=(0,n._)("label",{class:"fs-5 fw-semobold form-label mb-5"},"Payment Type:",-1),k={class:"d-flex flex-column"},_={class:"text-center"},w=(0,n._)("button",{type:"reset",id:"kt_customers_export_cancel",class:"btn btn-light me-3"}," Discard ",-1),h=["data-kt-indicator"],x={key:0,class:"indicator-label"},D=(0,n.Uk)(" Submit "),C={class:"svg-icon svg-icon-3 ms-2 me-0"},V={key:1,class:"indicator-progress"},W=(0,n.Uk)(" Please wait... "),U=(0,n._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1),T=[W,U];function M(e,t,a,W,U,M){var S=(0,n.up)("inline-svg"),H=(0,n.up)("el-date-picker"),Z=(0,n.up)("el-form-item"),E=(0,n.up)("el-option"),F=(0,n.up)("el-select"),z=(0,n.up)("el-radio"),A=(0,n.up)("el-form");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",r,[(0,n._)("div",s,[(0,n._)("div",c,[m,(0,n._)("div",u,[(0,n._)("span",i,[(0,n.Wm)(S,{src:"media/icons/duotune/arrows/arr061.svg"})])])]),(0,n._)("div",d,[(0,n.Wm)(A,{onSubmit:t[6]||(t[6]=(0,l.iM)((function(t){return e.submit()}),["prevent"])),model:e.formData,rules:e.rules,ref:"formRef"},{default:(0,n.w5)((function(){return[(0,n._)("div",p,[b,(0,n.Wm)(Z,{prop:"name"},{default:(0,n.w5)((function(){return[(0,n.Wm)(H,{type:"daterange",modelValue:e.formData.dateRange,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.dateRange=t})},null,8,["modelValue"])]})),_:1})]),(0,n._)("div",f,[v,(0,n.Wm)(F,{modelValue:e.formData.exportFormat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.exportFormat=t}),class:"d-block"},{default:(0,n.w5)((function(){return[(0,n.Wm)(E,{value:"excel",key:"excel",label:"Excel"}),(0,n.Wm)(E,{value:"pdf",key:"pdf",label:"PDF"}),(0,n.Wm)(E,{value:"cvs",key:"cvs",label:"CVS"}),(0,n.Wm)(E,{value:"zip",key:"zip",label:"ZIP"})]})),_:1},8,["modelValue"])]),(0,n._)("div",g,[y,(0,n._)("div",k,[(0,n.Wm)(z,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.paymentType=t}),label:"All"},null,8,["modelValue"]),(0,n.Wm)(z,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.paymentType=t}),label:"Visa"},null,8,["modelValue"]),(0,n.Wm)(z,{class:"mb-5",modelValue:e.formData.paymentType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.paymentType=t}),label:"Mastercard"},null,8,["modelValue"]),(0,n.Wm)(z,{modelValue:e.formData.paymentType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.paymentType=t}),label:"American Express"},null,8,["modelValue"])])]),(0,n._)("div",_,[w,(0,n._)("button",{"data-kt-indicator":e.loading?"on":null,type:"submit",class:"btn btn-lg btn-primary"},[e.loading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",x,[D,(0,n._)("span",C,[(0,n.Wm)(S,{src:"media/icons/duotune/arrows/arr064.svg"})])])),e.loading?((0,n.wg)(),(0,n.iD)("span",V,T)):(0,n.kq)("",!0)],8,h)])]})),_:1},8,["model","rules"])])])])])}var S=a(70655),H=a(2262),Z=a(78764),E=a.n(Z),F=(0,n.aZ)({name:"export-customers-modal",components:{},setup:function(){var e=(0,H.iH)(null),t=(0,H.iH)(!1),a=(0,H.qj)({shortcuts:[{text:"Last week",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"Last month",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"Last 3 months",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]}),n=(0,H.iH)({dateRange:[],exportFormat:"",paymentType:""}),l=(0,H.iH)({dateRange:[{required:!0,message:"Date range is required",trigger:"change"}]}),o=function(){e.value&&e.value.validate((function(e){if(!e)return E().fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}),!1;t.value=!0,setTimeout((function(){t.value=!1,E().fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(){window.location.reload()}))}),2e3)}))};return(0,S.pi)((0,S.pi)({},(0,H.BK)(a)),{formData:n,rules:l,submit:o,formRef:e,loading:t})}}),z=a(83744);const A=(0,z.Z)(F,[["render",M]]);var R=A},57833:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var n=a(66252),l=a(49963),o=a(3577),r={class:"card"},s={class:"card-header border-0 pt-6"},c={class:"card-title"},m={class:"d-flex align-items-center position-relative my-1"},u={class:"svg-icon svg-icon-1 position-absolute ms-6"},i={class:"card-toolbar"},d={key:0,class:"d-flex justify-content-end","data-kt-customer-table-toolbar":"base"},p={type:"button",class:"btn btn-light-primary me-3","data-bs-toggle":"modal","data-bs-target":"#kt_customers_export_modal"},b={class:"svg-icon svg-icon-2"},f=(0,n.Uk)(" Export "),v={type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add_customer"},g={class:"svg-icon svg-icon-2"},y=(0,n.Uk)(" Add Customer "),k={key:1,class:"d-flex justify-content-end align-items-center","data-kt-customer-table-toolbar":"selected"},_={class:"fw-bold me-5"},w={class:"me-2"},h=(0,n.Uk)("Selected "),x=(0,n._)("div",{class:"d-flex justify-content-end align-items-center d-none","data-kt-customer-table-toolbar":"selected"},[(0,n._)("div",{class:"fw-bold me-5"},[(0,n._)("span",{class:"me-2","data-kt-customer-table-select":"selected_count"}),(0,n.Uk)("Selected ")]),(0,n._)("button",{type:"button",class:"btn btn-danger","data-kt-customer-table-select":"delete_selected"}," Delete Selected ")],-1),D={class:"card-body pt-0"},C={class:"form-check form-check-sm form-check-custom form-check-solid"},V=["value"],W={href:"#",class:"text-gray-600 text-hover-primary mb-1"},U=["src"],T={href:"#",class:"btn btn-sm btn-light btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end"},M=(0,n.Uk)("Actions "),S={class:"svg-icon svg-icon-5 m-0"},H={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semobold fs-7 w-125px py-4","data-kt-menu":"true"},Z={class:"menu-item px-3"},E=(0,n.Uk)("View"),F={class:"menu-item px-3"},z=["onClick"];function A(e,t,a,A,R,j){var q=(0,n.up)("inline-svg"),B=(0,n.up)("router-link"),I=(0,n.up)("Datatable"),L=(0,n.up)("ExportCustomerModal"),P=(0,n.up)("AddCustomerModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n._)("div",s,[(0,n._)("div",c,[(0,n._)("div",m,[(0,n._)("span",u,[(0,n.Wm)(q,{src:"media/icons/duotune/general/gen021.svg"})]),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.search=t}),onInput:t[1]||(t[1]=function(t){return e.searchItems()}),class:"form-control form-control-solid w-250px ps-15",placeholder:"Search Customers"},null,544),[[l.nr,e.search]])])]),(0,n._)("div",i,[0===e.checkedCustomers.length?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("button",p,[(0,n._)("span",b,[(0,n.Wm)(q,{src:"media/icons/duotune/arrows/arr078.svg"})]),f]),(0,n._)("button",v,[(0,n._)("span",g,[(0,n.Wm)(q,{src:"media/icons/duotune/arrows/arr075.svg"})]),y])])):((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",_,[(0,n._)("span",w,(0,o.zw)(e.checkedCustomers.length),1),h]),(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=function(t){return e.deleteFewCustomers()})}," Delete Selected ")])),x])]),(0,n._)("div",D,[(0,n.Wm)(I,{"table-data":e.tableData,"table-header":e.tableHeader,"enable-items-per-page-dropdown":!0},{"cell-checkbox":(0,n.w5)((function(a){var o=a.row;return[(0,n._)("div",C,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",value:o.id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.checkedCustomers=t})},null,8,V),[[l.e8,e.checkedCustomers]])])]})),"cell-name":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,o.zw)(t.name),1)]})),"cell-email":(0,n.w5)((function(e){var t=e.row;return[(0,n._)("a",W,(0,o.zw)(t.email),1)]})),"cell-company":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,o.zw)(t.company),1)]})),"cell-paymentMethod":(0,n.w5)((function(e){var t=e.row;return[(0,n._)("img",{src:t.payment.icon,class:"w-35px me-3",alt:""},null,8,U),(0,n.Uk)((0,o.zw)(t.payment.ccnumber),1)]})),"cell-date":(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,o.zw)(t.date),1)]})),"cell-actions":(0,n.w5)((function(t){var a=t.row;return[(0,n._)("a",T,[M,(0,n._)("span",S,[(0,n.Wm)(q,{src:"media/icons/duotune/arrows/arr072.svg"})])]),(0,n._)("div",H,[(0,n._)("div",Z,[(0,n.Wm)(B,{to:"/apps/customers/customer-details",class:"menu-link px-3"},{default:(0,n.w5)((function(){return[E]})),_:1})]),(0,n._)("div",F,[(0,n._)("a",{onClick:function(t){return e.deleteCustomer(a.id)},class:"menu-link px-3"},"Delete",8,z)])])]})),_:1},8,["table-data","table-header"])])]),(0,n.Wm)(L),(0,n.Wm)(P)],64)}var R=a(70655),j=a(2262),q=a(3903),B=a(59747),I=a(51247),L=a(68932),P=a(4321),O=(0,n.aZ)({name:"customers-listing",components:{Datatable:q.Z,ExportCustomerModal:B.Z,AddCustomerModal:I.Z},setup:function(){var e=(0,j.iH)([]),t=(0,j.iH)([{key:"checkbox",sortable:!1},{name:"Customer Name",key:"name",sortable:!0},{name:"Email",key:"email",sortable:!0},{name:"Company",key:"company",sortable:!0},{name:"Payment Method",key:"paymentMethod",sortingField:"payment.label",sortable:!0},{name:"Created Date",key:"date",sortable:!0},{name:"Actions",key:"actions"}]),a=(0,j.iH)(P.Z),l=(0,j.iH)([]);(0,n.bv)((function(){var e;(0,L.M)("Customers Listing",["Apps","Customers"]),(e=l.value).splice.apply(e,(0,R.ev)([0,a.value.length],a.value,!1))}));var o=function(){e.value.forEach((function(e){r(e)})),e.value.length=0},r=function(e){for(var t=0;t<a.value.length;t++)a.value[t].id===e&&a.value.splice(t,1)},s=(0,j.iH)(""),c=function(){var e,t;if((e=a.value).splice.apply(e,(0,R.ev)([0,a.value.length],l.value,!1)),""!==s.value){for(var n=[],o=0;o<a.value.length;o++)m(a.value[o],s.value)&&n.push(a.value[o]);(t=a.value).splice.apply(t,(0,R.ev)([0,a.value.length],n,!1))}},m=function(e,t){for(var a in e)if(!Number.isInteger(e[a])&&"object"!==typeof e[a]&&-1!=e[a].indexOf(t))return!0;return!1};return{tableData:a,tableHeader:t,deleteCustomer:r,search:s,searchItems:c,checkedCustomers:e,deleteFewCustomers:o}}}),N=a(83744);const K=(0,N.Z)(O,[["render",A]]);var Y=K}}]);