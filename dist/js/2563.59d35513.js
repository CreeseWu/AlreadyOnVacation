"use strict";(self["webpackChunkdemo3"]=self["webpackChunkdemo3"]||[]).push([[2563],{32563:function(t,s,e){e.r(s),e.d(s,{default:function(){return H}});var n=e(66252),l={class:"w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto"},o={class:"text-center mb-10"},a=(0,n._)("h1",{class:"text-dark mb-3"},"登录",-1),r={class:"text-gray-400 fw-semobold fs-4"},i=(0,n.Uk)(" 还没有账户？ "),c=(0,n.Uk)(" 创建账户 "),m=(0,n._)("div",{class:"mb-10 bg-light-info p-8 rounded"},[(0,n._)("div",{class:"text-info"},"目前仅注册功能完成，无法登录、找回密码。")],-1),d={class:"fv-row mb-10"},u=(0,n._)("label",{class:"form-label fs-6 fw-bold text-dark"},"邮箱",-1),b={class:"fv-plugins-message-container"},f={class:"fv-help-block"},g={class:"fv-row mb-10"},p={class:"d-flex flex-stack mb-2"},v=(0,n._)("label",{class:"form-label fw-bold text-dark fs-6 mb-0"},"密码",-1),_=(0,n.Uk)(" 忘记密码？ "),h={class:"fv-plugins-message-container"},w={class:"fv-help-block"},x={class:"text-center"},k={type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},y=(0,n._)("span",{class:"indicator-label"}," 登录 ",-1),U=(0,n._)("span",{class:"indicator-progress"},[(0,n.Uk)(" 登录中.... "),(0,n._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),B=[y,U],L=(0,n._)("div",{class:"text-center text-muted text-uppercase fw-bold mb-5"},"或",-1),W=(0,n._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},[(0,n._)("img",{alt:"Logo",src:"media/svg/brand-logos/cuc.svg",class:"h-20px me-3"}),(0,n.Uk)(" 使用中传账户登录 ")],-1),S=(0,n._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},[(0,n._)("img",{alt:"Logo",src:"media/svg/brand-logos/google-icon.svg",class:"h-20px me-3"}),(0,n.Uk)(" 使用谷歌账户登录 ")],-1),E=(0,n._)("a",{href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100"},[(0,n._)("img",{alt:"Logo",src:"media/svg/brand-logos/apple-black.svg",class:"h-20px me-3"}),(0,n.Uk)(" 使用苹果账户登录 ")],-1);function C(t,s,e,y,U,C){var F=(0,n.up)("router-link"),O=(0,n.up)("Field"),T=(0,n.up)("ErrorMessage"),Z=(0,n.up)("Form");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(Z,{class:"form w-100",id:"kt_login_signin_form",onSubmit:t.onSubmitLogin,"validation-schema":t.login},{default:(0,n.w5)((function(){return[(0,n._)("div",o,[a,(0,n._)("div",r,[i,(0,n.Wm)(F,{to:"/multi-step-sign-up",class:"link-primary fw-bold"},{default:(0,n.w5)((function(){return[c]})),_:1})])]),m,(0,n._)("div",d,[u,(0,n.Wm)(O,{class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),(0,n._)("div",b,[(0,n._)("div",f,[(0,n.Wm)(T,{name:"email"})])])]),(0,n._)("div",g,[(0,n._)("div",p,[v,(0,n.Wm)(F,{to:"/password-reset",class:"link-primary fs-6 fw-bold"},{default:(0,n.w5)((function(){return[_]})),_:1})]),(0,n.Wm)(O,{class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),(0,n._)("div",h,[(0,n._)("div",w,[(0,n.Wm)(T,{name:"password"})])])]),(0,n._)("div",x,[(0,n._)("button",k,B,512),L,W,S,E])]})),_:1},8,["onSubmit","validation-schema"])])}var F=e(70655),O=e(2262),T=e(12954),Z=e(15758),G=e(33907),q=e(22201),A=e(48542),M=e.n(A),N=e(74231),R=(0,n.aZ)({name:"sign-in",components:{Field:T.gN,Form:T.l0,ErrorMessage:T.Bc},setup:function(){var t=this,s=(0,G.oR)(),e=(0,q.tv)(),n=(0,O.iH)(null),l=N.Ry().shape({email:N.Z_().email().required().label("Email"),password:N.Z_().min(4).required().label("Password")}),o=function(l){return(0,F.mG)(t,void 0,void 0,(function(){var t,o,a;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return s.dispatch(Z.e.LOGOUT),n.value&&(n.value.disabled=!0,n.value.setAttribute("data-kt-indicator","on")),[4,s.dispatch(Z.e.LOGIN,l)];case 1:return r.sent(),t=Object.keys(s.getters.getErrors)[0],o=s.getters.getErrors[t],o?M().fire({text:o[0],icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}):M().fire({text:"登录成功！",icon:"success",buttonsStyling:!1,confirmButtonText:"进入",customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then((function(){e.push({name:"dashboard"})})),null===(a=n.value)||void 0===a||a.removeAttribute("data-kt-indicator"),n.value.disabled=!1,[2]}}))}))};return{onSubmitLogin:o,login:l,submitButton:n}}}),j=e(83744);const D=(0,j.Z)(R,[["render",C]]);var H=D}}]);